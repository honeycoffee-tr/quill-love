<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>다섯 번의 편지와 하나의 답장</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="game-header">
            <h1 class="game-title">다섯 번의 편지와 하나의 답장</h1>
            <p class="game-subtitle">익명의 후원자에게 보내는 편지</p>
        </div>

        <!-- 시나리오 소개 -->
        <div class="character-creation" id="scenarioIntro">
            <h2 class="section-title">시나리오 소개</h2>
            <div class="intro-content">
                <p>긴 무명 생활에 지쳐가던 어느 날, 이름도 얼굴도 모르는 익명의 후원자로부터 후원금을 받게 된다.</p>
                <p>그는 한마디 말도 없이 자신의 사용인을 통해 후원금을 전달할 뿐, 그 어떤 신상 정보도 알려주지 않는다.</p>
                <p>어느 날, 주인공은 문득 그에게 하고 싶은 말이 떠올라 펜을 들어 편지를 쓰기 시작한다.</p>
            </div>
            <div class="action-buttons">
                <button class="btn" onclick="showCharacterCreation()">캐릭터 만들기</button>
            </div>
        </div>

        <!-- 캐릭터 메이킹 -->
        <div class="character-creation" id="characterCreation" style="display: none;">
            <h2 class="section-title">캐릭터 메이킹</h2>
            <div class="character-form">
                <div class="form-group">
                    <label class="form-label">이름</label>
                    <input type="text" class="form-input" id="characterName" placeholder="예술가의 이름을 입력하세요">
                </div>
                
                <div class="form-group">
                    <label class="form-label">직업</label>
                    <select class="form-select" id="characterProfession" onchange="updateAbilities()">
                        <option value="">선택하세요</option>
                        <option value="writer">작가</option>
                        <option value="painter">화가</option>
                        <option value="musician">음악가</option>
                    </select>
                </div>

                <div class="abilities-display">
                    <div class="ability-item">
                        <div class="ability-name">감정</div>
                        <div class="ability-value" id="emotion">-</div>
                    </div>
                    <div class="ability-item">
                        <div class="ability-name">문장력</div>
                        <div class="ability-value" id="language">-</div>
                    </div>
                    <div class="ability-item">
                        <div class="ability-name">필체</div>
                        <div class="ability-value" id="penmanship">-</div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">기술</label>
                    <select class="form-select" id="characterSkill">
                        <option value="">선택하세요</option>
                        <option value="inspiration">영감 (문장력 판정에 주사위 +1)</option>
                        <option value="elegance">화려함 (필체 판정에 주사위 +1)</option>
                        <option value="passion">부푼 감정 (감정 판정에 주사위 +1)</option>
                    </select>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn" id="startGameBtn" onclick="startGame()" disabled>게임 시작</button>
            </div>
        </div>

        <!-- 게임 인터페이스 -->
        <div class="game-interface" id="gameInterface">
            <!-- 좌측 사이드바 -->
            <div class="game-sidebar">
                <!-- 진행 상황 -->
                <div class="paragraph-header">
                    <div class="paragraph-number" id="paragraphNumber">1문단</div>
                    <div class="current-step" id="currentStep">단어 선택</div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 20%"></div>
                </div>

                <!-- 잉크병 -->
                <div class="inkwell">
                    <div class="inkwell-title">🖋️ 잉크병</div>
                    <div class="word-pairs" id="inkwell">
                        <!-- 단어들이 동적으로 생성됩니다 -->
                    </div>
                </div>

                <!-- 기술 사용 -->
                <div class="judgement-section" id="skillSection">
                    <div class="judgement-title">⚡ 기술</div>
                    <div class="skill-content">
                        <div class="skill-name">
                            <span id="skillName">미선택</span>
                        </div>
                        <div class="skill-checkbox">
                            <label>
                                <input type="checkbox" id="skillCheckbox" />
                                <span>이번 판정에 기술 사용</span>
                            </label>
                        </div>
                        <div class="skill-status">
                            <span id="skillStatus">사용 가능</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 우측 메인 -->
            <div class="game-main">
                <!-- 편지 헤더 -->
                <div class="letter-header">
                    <div class="letter-title">익명의 후원자님께</div>
                    <div class="letter-progress">
                        <span id="letterProgress">1문단 작성 중</span>
                    </div>
                </div>

                <!-- 상단 액션 영역 -->
                <div class="action-area">
                    <!-- 버튼 영역 -->
                    <div class="button-area">
                        <button class="btn" id="selectWordBtn" onclick="proceedToEmotion()" disabled>단어 선택 완료</button>
                        <button class="btn" id="skipEmotionBtn" onclick="proceedToLanguage()" disabled style="display: none;">미사여구 건너뛰기</button>
                        <button class="btn" id="writeBtn" onclick="proceedToWriting()" disabled style="display: none;">글쓰기 시작</button>
                        <button class="btn" id="nextParagraphBtn" onclick="nextParagraph()" disabled style="display: none;">다음 문단</button>
                        <button class="btn" id="finishLetterBtn" onclick="finishLetter()" disabled style="display: none;">편지 완성</button>
                    </div>

                    <!-- 판정 영역 -->
                    <div class="judgement-area">
                        <!-- 미사여구 판정 -->
                        <div class="judgement-card" id="emotionJudgement" style="display: none;">
                            <div class="card-title">🎭 미사여구 판정</div>
                            <div class="card-content">
                                <div class="dice-info">감정 <span id="emotionDiceCount">2</span>개 주사위</div>
                                <button class="dice-btn" id="emotionRollBtn" onclick="rollEmotion()">감정 판정</button>
                                <div class="dice-result" id="emotionResult"></div>
                            </div>
                        </div>

                        <!-- 문장력 판정 -->
                        <div class="judgement-card" id="languageJudgement" style="display: none;">
                            <div class="card-title">📝 문장력 판정</div>
                            <div class="card-content">
                                <div class="dice-info">문장력 <span id="languageDiceCount">2</span>개 주사위</div>
                                <button class="dice-btn" id="languageRollBtn" onclick="rollLanguage()">문장력 판정</button>
                                <div class="dice-result" id="languageResult"></div>
                            </div>
                        </div>

                        <!-- 필체 판정 -->
                        <div class="judgement-card" id="penmanshipJudgement" style="display: none;">
                            <div class="card-title">✒️ 필체 판정</div>
                            <div class="card-content">
                                <div class="dice-info">필체 <span id="penmanshipDiceCount">2</span>개 주사위</div>
                                <button class="dice-btn" id="penmanshipRollBtn" onclick="rollPenmanship()">필체 판정</button>
                                <div class="dice-result" id="penmanshipResult"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 전체 편지 뷰 -->
                <div class="letter-container" id="letterContainer">
                    <!-- 편지 문단들이 여기에 동적으로 생성됩니다 -->
                </div>

                <!-- 현재 문단 정보 -->
                <div id="paragraphInfo" class="paragraph-info" style="display: none;">
                    <div class="info-title">현재 문단 정보:</div>
                    <div class="info-content">
                        <div>선택된 단어: <span id="selectedWord">-</span></div>
                        <div>미사여구: <span id="emotionStatus">판정 안함</span></div>
                        <div>문장력: <span id="languageStatus">판정 안함</span></div>
                        <div>단어 종류: <span id="wordType">-</span></div>
                    </div>
                </div>

                <div class="score-display">
                    <div class="score-row">
                        <div class="score-item">
                            <span class="score-label">문단 점수</span>
                            <span class="score-value" id="paragraphScore">0</span>
                        </div>
                        <div class="score-item">
                            <span class="score-label">총 점수</span>
                            <span class="score-value" id="totalScore">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 스토리 섹션 -->
        <div class="story-section" id="storySection">
            <div class="story-title" id="storyTitle">첫 번째 만남</div>
            <div class="story-content" id="storyContent">
                <!-- 스토리 내용이 여기에 표시됩니다 -->
            </div>
            <div class="action-buttons">
                <button class="btn" onclick="continueToNextLetter()">다음 편지 쓰기</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
